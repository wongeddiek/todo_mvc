!function(){var n={},t=function(t){for(var e=n[t],o=e.deps,u=e.defn,i=o.length,c=new Array(i),f=0;f<i;++f)c[f]=r(o[f]);var a=u.apply(null,c);if(void 0===a)throw"module ["+t+"] returned undefined";e.instance=a},e=function(t,e,r){if("string"!=typeof t)throw"module id must be a string";if(void 0===e)throw"no dependencies for "+t;if(void 0===r)throw"no definition function for "+t;n[t]={deps:e,defn:r,instance:void 0}},r=function(e){var r=n[e];if(void 0===r)throw"module ["+e+"] was undefined";return void 0===r.instance&&t(e),r.instance},o=function(n,t){for(var e=n.length,o=new Array(e),u=0;u<e;++u)o[u]=r(n[u]);t.apply(null,o)};({}).bolt={module:{api:{define:e,require:o,demand:r}}};var u=e,i=function(n,t){u(n,[],function(){return t})};u("1",[],function(){var n=function(t){var e=t,r=function(){return e};return{get:r,set:function(n){e=n},clone:function(){return n(r())}}};return n}),i("5",tinymce.util.Tools.resolve),u("2",["5"],function(n){return n("tinymce.PluginManager")}),u("3",[],function(){return{get:function(n){return{isContextMenuVisible:function(){return n.get()}}}}}),u("6",[],function(){return{shouldNeverUseNative:function(n){return n.settings.contextmenu_never_use_native},getContextMenu:function(n){return n.getParam("contextmenu","link openlink image inserttable | cell row column deletetable")}}}),u("9",["5"],function(n){return n("tinymce.Env")}),u("a",["5"],function(n){return n("tinymce.dom.DOMUtils")}),u("7",["9","a"],function(n,t){var e=function(n,t){return{x:n,y:t}},r=function(n,t,r){return e(n.x+t,n.y+r)},o=function(n){return e(n.pageX,n.pageY)},u=function(n){return e(n.clientX,n.clientY)},i=function(n,e){if(n&&"static"!==t.DOM.getStyle(n,"position",!0)){var o=t.DOM.getPos(n),u=o.x-n.scrollLeft,i=o.y-n.scrollTop;return r(e,-u,-i)}return r(e,0,0)},c=function(n,e){var o=t.DOM.getPos(n);return r(e,o.x,o.y)},f=function(){return n.container};return{getPos:function(n,t){if(n.inline)return i(f(n),o(t));var e=c(n.getContentAreaContainer(),u(t));return i(f(n),e)}}}),u("b",["5"],function(n){return n("tinymce.ui.Factory")}),u("c",["5"],function(n){return n("tinymce.util.Tools")}),u("8",["b","c","6"],function(n,t,e){var r=function(r,o){var u,i,c=[];i=e.getContextMenu(r),t.each(i.split(/[ ,]/),function(n){var t=r.menuItems[n];"|"===n&&(t={text:n}),t&&(t.shortcut="",c.push(t))});for(var f=0;f<c.length;f++)"|"===c[f].text&&(0!==f&&f!==c.length-1||c.splice(f,1));return(u=n.create("menu",{items:c,context:"contextmenu",classes:"contextmenu"}).renderTo()).on("hide",function(n){n.control===this&&o.set(!1)}),r.on("remove",function(){u.remove(),u=null}),u};return{show:function(n,t,e,o){null===o.get()?o.set(r(n,e)):o.get().show(),o.get().moveTo(t.x,t.y),e.set(!0)}}}),u("4",["6","7","8"],function(n,t,e){var r=function(t,e){return e.ctrlKey&&!n.shouldNeverUseNative(t)};return{setup:function(n,o,u){n.on("contextmenu",function(i){r(n,i)||(i.preventDefault(),e.show(n,t.getPos(n,i),o,u))})}}}),u("0",["1","2","3","4"],function(n,t,e,r){return t.add("contextmenu",function(t){var o=n(null),u=n(!1);return r.setup(t,u,o),e.get(u)}),function(){}}),r("0")()}();